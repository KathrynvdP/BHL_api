{"remainingRequest":"/Users/kathryn/Desktop/BHL_api/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue","mtime":1660719716779},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdldEFsbEJvb2tzIH0gZnJvbSAiLi4vc2VydmljZXMvYXBpIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IEJvb2tMaXN0IGZyb20gIi4uL2NvbXBvbmVudHMvQm9va0xpc3QudnVlIjsKaW1wb3J0IHsKICBJb25Sb3csCiAgSW9uQ29sLAogIElvbkl0ZW0sCiAgSW9uTGFiZWwsCiAgSW9uU2VsZWN0LAogIElvblNlbGVjdE9wdGlvbiwKICBJb25JbnB1dCwKfSBmcm9tICJAaW9uaWMvdnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJb25Sb3csCiAgICBJb25Db2wsCiAgICBJb25JdGVtLAogICAgSW9uTGFiZWwsCiAgICBJb25TZWxlY3QsCiAgICBJb25TZWxlY3RPcHRpb24sCiAgICBJb25JbnB1dCwKICAgIEJvb2tMaXN0LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiAiIiwKICAgICAgdGVybTogIiIsCiAgICAgIGJvb2tzOiBbXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc3Qgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgY29uc3QgeyBpZCB9ID0gcm91dGUucGFyYW1zOwogICAgdGhpcy5jYXRlZ29yeSA9ICJjb2xsZWN0aW9uIjsKICAgIHRoaXMudGVybSA9IGlkOwogICAgdGhpcy5nZXRBbGwoImNvbGxlY3Rpb24iLCBpZCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZmF2b3VyaXRlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZmF2b3VyaXRlczsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRBbGwoY2F0ZWdvcnksIHRlcm0pIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGV0IHJlc3AgPSBhd2FpdCBnZXRBbGxCb29rcyhjYXRlZ29yeSwgdGVybSk7CiAgICAgIHRoaXMuYm9va3MgPSByZXNwOwogICAgICBpZiAodGhpcy5mYXZvdXJpdGVzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmZhdm91cml0ZXMuZm9yRWFjaCgoZmF2ZSkgPT4gewogICAgICAgICAgdmFyIG93bmVyRGF0YSA9IHRoaXMuYm9va3MuZmlsdGVyKGZ1bmN0aW9uKGJvb2spIHsKICAgICAgICAgICAgcmV0dXJuIGJvb2suSXRlbUlEID09PSBmYXZlLkl0ZW1JRDsKICAgICAgICAgIH0pWzBdOwogICAgICAgICAgaWYgKG93bmVyRGF0YSkgewogICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmJvb2tzLmZpbmRJbmRleCgKICAgICAgICAgICAgICAoeCkgPT4geC5JdGVtSUQgPT0gb3duZXJEYXRhLkl0ZW1JRAogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmJvb2tzW2luZGV4XS5mYXZvdXJpdGUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue"],"names":[],"mappings":"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","file":"/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue","sourceRoot":"","sourcesContent":["<template>\n  <main-layout page-title=\"Search...\">\n    <ion-row>\n      <ion-col>\n        <ion-item>\n          <ion-label>Search Category...</ion-label>\n          <ion-select\n            v-model=\"category\"\n            mode=\"ios\"\n            @ionChange=\"\n              ($event) => {\n                category = $event.detail.value;\n                (term = ''), getAll(category, 'a');\n              }\n            \"\n          >\n            <ion-select-option value=\"collection\"\n              >Collection ID</ion-select-option\n            >\n            <ion-select-option value=\"authorname\">Author</ion-select-option>\n            <ion-select-option value=\"title\">Title</ion-select-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col>\n        <ion-item>\n          <ion-label>Search Term...</ion-label>\n          <ion-input\n            v-model=\"term\"\n            @ionChange=\"\n              ($event) => {\n                term = $event.detail.value;\n                getAll(category, term);\n              }\n            \"\n          ></ion-input>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n    <book-list :books=\"books\"></book-list>\n  </main-layout>\n</template>\n\n<script>\nimport { getAllBooks } from \"../services/api\";\nimport { useRoute } from \"vue-router\";\nimport BookList from \"../components/BookList.vue\";\nimport {\n  IonRow,\n  IonCol,\n  IonItem,\n  IonLabel,\n  IonSelect,\n  IonSelectOption,\n  IonInput,\n} from \"@ionic/vue\";\n\nexport default {\n  components: {\n    IonRow,\n    IonCol,\n    IonItem,\n    IonLabel,\n    IonSelect,\n    IonSelectOption,\n    IonInput,\n    BookList,\n  },\n  data() {\n    return {\n      category: \"\",\n      term: \"\",\n      books: [],\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    const { id } = route.params;\n    this.category = \"collection\";\n    this.term = id;\n    this.getAll(\"collection\", id);\n  },\n  computed: {\n    favourites() {\n      return this.$store.getters.favourites;\n    },\n  },\n  methods: {\n    async getAll(category, term) {\n      this.loading = true;\n      let resp = await getAllBooks(category, term);\n      this.books = resp;\n      if (this.favourites.length > 0) {\n        this.favourites.forEach((fave) => {\n          var ownerData = this.books.filter(function(book) {\n            return book.ItemID === fave.ItemID;\n          })[0];\n          if (ownerData) {\n            var index = this.books.findIndex(\n              (x) => x.ItemID == ownerData.ItemID\n            );\n            this.books[index].favourite = true;\n          }\n        });\n      }\n      this.loading = false;\n    },\n  },\n};\n</script>\n"]}]}