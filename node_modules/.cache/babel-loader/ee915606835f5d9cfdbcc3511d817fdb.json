{"remainingRequest":"/Users/kathryn/Desktop/BHL_api/node_modules/thread-loader/dist/cjs.js!/Users/kathryn/Desktop/BHL_api/node_modules/babel-loader/lib/index.js!/Users/kathryn/Desktop/BHL_api/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kathryn/Desktop/BHL_api/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue","mtime":1660719716779},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kathryn/Desktop/BHL_api/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9rYXRocnluL0Rlc2t0b3AvQkhMX2FwaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGdldEFsbEJvb2tzIH0gZnJvbSAiLi4vc2VydmljZXMvYXBpIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IEJvb2tMaXN0IGZyb20gIi4uL2NvbXBvbmVudHMvQm9va0xpc3QudnVlIjsKaW1wb3J0IHsgSW9uUm93LCBJb25Db2wsIElvbkl0ZW0sIElvbkxhYmVsLCBJb25TZWxlY3QsIElvblNlbGVjdE9wdGlvbiwgSW9uSW5wdXQgfSBmcm9tICJAaW9uaWMvdnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIElvblJvdzogSW9uUm93LAogICAgSW9uQ29sOiBJb25Db2wsCiAgICBJb25JdGVtOiBJb25JdGVtLAogICAgSW9uTGFiZWw6IElvbkxhYmVsLAogICAgSW9uU2VsZWN0OiBJb25TZWxlY3QsCiAgICBJb25TZWxlY3RPcHRpb246IElvblNlbGVjdE9wdGlvbiwKICAgIElvbklucHV0OiBJb25JbnB1dCwKICAgIEJvb2tMaXN0OiBCb29rTGlzdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiAiIiwKICAgICAgdGVybTogIiIsCiAgICAgIGJvb2tzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIGlkID0gcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5jYXRlZ29yeSA9ICJjb2xsZWN0aW9uIjsKICAgIHRoaXMudGVybSA9IGlkOwogICAgdGhpcy5nZXRBbGwoImNvbGxlY3Rpb24iLCBpZCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZmF2b3VyaXRlczogZnVuY3Rpb24gZmF2b3VyaXRlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZmF2b3VyaXRlczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKGNhdGVnb3J5LCB0ZXJtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsQm9va3MoY2F0ZWdvcnksIHRlcm0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmJvb2tzID0gcmVzcDsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmF2b3VyaXRlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmZhdm91cml0ZXMuZm9yRWFjaChmdW5jdGlvbiAoZmF2ZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBvd25lckRhdGEgPSBfdGhpcy5ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBib29rLkl0ZW1JRCA9PT0gZmF2ZS5JdGVtSUQ7CiAgICAgICAgICAgICAgICAgICAgfSlbMF07CgogICAgICAgICAgICAgICAgICAgIGlmIChvd25lckRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmJvb2tzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5JdGVtSUQgPT0gb3duZXJEYXRhLkl0ZW1JRDsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmJvb2tzW2luZGV4XS5mYXZvdXJpdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/kathryn/Desktop/BHL_api/src/pages/SearchPage.vue"],"names":[],"mappings":";;;;;;AA4CA,SAAS,WAAT,QAA4B,iBAA5B;AACA,SAAS,QAAT,QAAyB,YAAzB;AACA,OAAO,QAAP,MAAqB,4BAArB;AACA,SACE,MADF,EAEE,MAFF,EAGE,OAHF,EAIE,QAJF,EAKE,SALF,EAME,eANF,EAOE,QAPF,QAQO,YARP;AAUA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,MAAM,EAAN,MADU;AAEV,IAAA,MAAM,EAAN,MAFU;AAGV,IAAA,OAAO,EAAP,OAHU;AAIV,IAAA,QAAQ,EAAR,QAJU;AAKV,IAAA,SAAS,EAAT,SALU;AAMV,IAAA,eAAe,EAAf,eANU;AAOV,IAAA,QAAQ,EAAR,QAPU;AAQV,IAAA,QAAQ,EAAR;AARU,GADC;AAWb,EAAA,IAXa,kBAWN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,KAAK,EAAE;AAHF,KAAP;AAKD,GAjBY;AAkBb,EAAA,OAlBa,qBAkBH;AACR,QAAM,KAAI,GAAI,QAAQ,EAAtB;AADQ,QAEA,EAFA,GAEO,KAAK,CAAC,MAFb,CAEA,EAFA;AAGR,SAAK,QAAL,GAAgB,YAAhB;AACA,SAAK,IAAL,GAAY,EAAZ;AACA,SAAK,MAAL,CAAY,YAAZ,EAA0B,EAA1B;AACD,GAxBY;AAyBb,EAAA,QAAQ,EAAE;AACR,IAAA,UADQ,wBACK;AACX,aAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,UAA3B;AACD;AAHO,GAzBG;AA8Bb,EAAA,OAAO,EAAE;AACD,IAAA,MADC,kBACM,QADN,EACgB,IADhB,EACsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3B,gBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AAD2B;AAAA,uBAEV,WAAW,CAAC,QAAD,EAAW,IAAX,CAFD;;AAAA;AAEvB,gBAAA,IAFuB;AAG3B,gBAAA,KAAI,CAAC,KAAL,GAAa,IAAb;;AACA,oBAAI,KAAI,CAAC,UAAL,CAAgB,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,kBAAA,KAAI,CAAC,UAAL,CAAgB,OAAhB,CAAwB,UAAC,IAAD,EAAU;AAChC,wBAAI,SAAQ,GAAI,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,UAAS,IAAT,EAAe;AAC/C,6BAAO,IAAI,CAAC,MAAL,KAAgB,IAAI,CAAC,MAA5B;AACD,qBAFe,EAEb,CAFa,CAAhB;;AAGA,wBAAI,SAAJ,EAAe;AACb,0BAAI,KAAI,GAAI,KAAI,CAAC,KAAL,CAAW,SAAX,CACV,UAAC,CAAD;AAAA,+BAAO,CAAC,CAAC,MAAF,IAAY,SAAS,CAAC,MAA7B;AAAA,uBADU,CAAZ;;AAGA,sBAAA,KAAI,CAAC,KAAL,CAAW,KAAX,EAAkB,SAAlB,GAA8B,IAA9B;AACF;AACD,mBAVD;AAWF;;AACA,gBAAA,KAAI,CAAC,OAAL,GAAe,KAAf;;AAjB2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB5B;AAnBM;AA9BI,CAAf","sourcesContent":["<template>\n  <main-layout page-title=\"Search...\">\n    <ion-row>\n      <ion-col>\n        <ion-item>\n          <ion-label>Search Category...</ion-label>\n          <ion-select\n            v-model=\"category\"\n            mode=\"ios\"\n            @ionChange=\"\n              ($event) => {\n                category = $event.detail.value;\n                (term = ''), getAll(category, 'a');\n              }\n            \"\n          >\n            <ion-select-option value=\"collection\"\n              >Collection ID</ion-select-option\n            >\n            <ion-select-option value=\"authorname\">Author</ion-select-option>\n            <ion-select-option value=\"title\">Title</ion-select-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col>\n        <ion-item>\n          <ion-label>Search Term...</ion-label>\n          <ion-input\n            v-model=\"term\"\n            @ionChange=\"\n              ($event) => {\n                term = $event.detail.value;\n                getAll(category, term);\n              }\n            \"\n          ></ion-input>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n    <book-list :books=\"books\"></book-list>\n  </main-layout>\n</template>\n\n<script>\nimport { getAllBooks } from \"../services/api\";\nimport { useRoute } from \"vue-router\";\nimport BookList from \"../components/BookList.vue\";\nimport {\n  IonRow,\n  IonCol,\n  IonItem,\n  IonLabel,\n  IonSelect,\n  IonSelectOption,\n  IonInput,\n} from \"@ionic/vue\";\n\nexport default {\n  components: {\n    IonRow,\n    IonCol,\n    IonItem,\n    IonLabel,\n    IonSelect,\n    IonSelectOption,\n    IonInput,\n    BookList,\n  },\n  data() {\n    return {\n      category: \"\",\n      term: \"\",\n      books: [],\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    const { id } = route.params;\n    this.category = \"collection\";\n    this.term = id;\n    this.getAll(\"collection\", id);\n  },\n  computed: {\n    favourites() {\n      return this.$store.getters.favourites;\n    },\n  },\n  methods: {\n    async getAll(category, term) {\n      this.loading = true;\n      let resp = await getAllBooks(category, term);\n      this.books = resp;\n      if (this.favourites.length > 0) {\n        this.favourites.forEach((fave) => {\n          var ownerData = this.books.filter(function(book) {\n            return book.ItemID === fave.ItemID;\n          })[0];\n          if (ownerData) {\n            var index = this.books.findIndex(\n              (x) => x.ItemID == ownerData.ItemID\n            );\n            this.books[index].favourite = true;\n          }\n        });\n      }\n      this.loading = false;\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}